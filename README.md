# MeetHub - 位置情報共有アプリケーション

MeetHubは、ARを活用した位置情報共有サービスです。待ち合わせをよりスムーズにするために開発されました。

## 主な機能

### 位置情報の共有

- 現在地の共有と共有コードの作成
- タイトルとメッセージの追加
- 有効期限設定（デフォルト24時間）
- 共有リンクのコピーと送信

### 共有された位置情報の確認

- 共有コードから位置情報を表示
- 現在地からの距離と方向を計算
- ARモードでリアルタイムに目的地の方向を確認

### AR機能

- デバイスの向きセンサーを使った方向指示
- 距離と方角の視覚的表示
- シンプルなAR表示でわかりやすい案内

## 技術スタック

- **フロントエンド**: Next.js 14、React、Tailwind CSS、Shadcn/ui
- **バックエンド**: Supabase（PostgreSQL、認証、ストレージ）
- **位置情報**: ブラウザの位置情報API、デバイス方向API
- **AR**: WebXR Device API

## セットアップ

1. リポジトリをクローン

   ```
   git clone https://github.com/yourusername/meet-hub.git
   cd meet-hub
   ```

2. 依存関係のインストール

   ```
   npm install
   ```

3. 環境変数の設定
   `.env.local`ファイルを作成し、以下の内容を設定：

   ```
   NEXT_PUBLIC_SUPABASE_URL=your-supabase-url
   NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
   ```

4. 開発サーバーの起動

   ```
   npm run dev
   ```

5. ブラウザで開く
   ```
   http://localhost:3000
   ```

## 使用方法

### 位置情報を共有する

1. アプリにサインインする
2. ナビゲーションから「共有」を選択する
3. タイトルとメッセージを入力し、「位置情報を共有する」をクリック
4. 生成された共有リンクをコピーして友人に送信

### 共有された位置情報を確認する

1. 共有リンクを開く（サインインは不要）
2. 表示された位置情報の詳細を確認
3. 現在地からの距離と方向を確認
4. 「ARモードで見る」をクリックして、現実世界と重ねて目的地の方向を確認

## 位置情報共有の仕組み

- 位置情報はSupabaseデータベースに保存されます
- 共有コードは他人が推測しにくいランダムな文字列で生成
- 有効期限が切れた位置情報は自動的に非アクティブ化
- 全ての位置情報共有はユーザー認証と紐付け

## 今後の予定

- 地図表示機能の強化
- リアルタイム位置情報更新
- グループでの位置情報共有
- より高度なAR表示（3Dマーカー、道案内など）

## ライセンス

このプロジェクトは株式会社PlenaのProprietary License（独自ライセンス）で管理されています。無断利用・複製・再配布を禁じます。

## 友達との動作確認手順

### 1. 両者がGoogleアカウントでサインイン

1. https://meet-7f4b7docq-shuheihasegawas-projects.vercel.app にアクセス
2. 「サインイン」をクリック
3. Googleアカウントでログイン

### 2. ユーザーA（位置共有する側）

1. `/share` ページにアクセス
2. 「位置を共有する」セクションで：
   - 「位置を更新」ボタンをクリックして現在地を取得
   - 場所の名前を入力（例：「駅前のスタバ」）
   - メッセージを入力（例：「ここで待ってます」）
   - 有効期限を設定（例：1時間）
   - 「位置を共有する」ボタンをクリック
3. 生成された共有コードを友達に送信

### 3. ユーザーB（位置確認する側）

1. `/share` ページにアクセス
2. 「共有位置を検索」セクションで：
   - 受け取った共有コードを入力
   - 「位置情報を検索」ボタンをクリック
3. 見つかった位置情報を確認

### 4. デバッグ情報の確認

- shareページの右側に「デバッグ: 最近の共有コード」が表示されます
- 実際にデータベースに保存されている共有コードをクリックしてコピー・テストできます
- ブラウザの開発者ツール（F12）でコンソールログを確認

### トラブルシューティング

1. **位置情報が取得できない場合**：

   - ブラウザで位置情報のアクセス許可を確認
   - HTTPS環境でのみ動作します

2. **検索がヒットしない場合**：

   - 共有コードの大文字小文字を確認
   - 有効期限が切れていないか確認
   - コンソールログでデバッグ情報を確認

3. **認証エラーの場合**：
   - 一度ログアウトして再度ログイン
   - 異なるブラウザで試行
